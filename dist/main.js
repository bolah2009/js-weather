!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{const e=new Date,t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=e=>new Date(e),r=e=>t[(e=>n(e).getDay())(e)];return{toFullDay:e=>r(e),toShortDay:(e,t=3)=>r(e).slice(0,t),toFullDayWithTime:t=>`${r(t)} (${((t=e)=>{const r=n(t).getHours(),a=n(t).getMinutes(),o=r<12?"AM":"PM",i=a<10?`0${a}`:a;return`${(()=>{const e=r>12?r-12:r;return e<12?`0${e}`:e})()}:${i} ${o}`})(t)})`,isFuture:t=>n(t)>e}};var a=e=>{const t=({date:e},t="main")=>"main"===t?r().toFullDayWithTime(e):r().toShortDay(e),n=(e,t,n={})=>{return`${n[`${e}`].toFixed(0)} ${t}`},a=e=>9*e/5+32,o=e=>2.237*e,i=e=>3.6*e,c=(e,t,n,r={})=>{return`${e(r[`${t}`]).toFixed(0)} ${n}`};return(e=>{const r=(e=>{const{dt_txt:t,clouds:{all:n},main:{humidity:r,pressure:a,temp:o,temp_max:i,temp_min:c,grnd_level:s,sea_level:u},weather:[{main:d,description:l,icon:m}],wind:{deg:p,speed:y}}=e;return{date:t,cloudiness:n,humidity:r,pressure:a,temp:o,tempMax:i,tempMin:c,groundLevel:s,seaLevel:u,weatherCondition:d,weatherDescription:l,weatherIcon:m,windDirection:p,windSpeed:y}})(e),s=(e=>{return{temp:n("temp","°C",e),tempMax:n("tempMax","°C",e),tempMin:n("tempMin","°C",e),windSpeed:c(i,"windSpeed","km/h",e)}})(r),u=(e=>{return{temp:c(a,"temp","°F",e),tempMax:c(a,"tempMax","°F",e),tempMin:c(a,"tempMin","°F",e),windSpeed:c(o,"windSpeed","mph",e)}})(r),d={date:t(r,"main"),forecastDate:t(r,"forecast"),cloudiness:n("cloudiness","%",r),humidity:n("humidity","%",r),pressure:n("pressure","hPa",r),groundLevel:n("groundLevel","hPa",r),seaLevel:n("seaLevel","hPa",r),windDirection:n("windDirection","°",r),weatherCondition:r.weatherCondition,weatherDescription:r.weatherDescription,weatherIcon:r.weatherIcon};return{metric:{...s,...d},imperical:{...u,...d}}})(e)};var o=async e=>{const{data:t,ok:n}=await(async e=>{const t=`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=ed33e3ceb71d11a88646b4199155dac1&units=metric`,n=await fetch(t),r=await n.json(),{ok:a}=n;return{data:r,ok:a}})(e);if(!n){const{message:e}=t;return{message:e}}const{list:r=[],city:{name:o}}=t,i=[];let c=(new Date).getDay();for(let e=0;e<r.length;e+=1){if(new Date(r[e].dt_txt).getDay()===c){const t=a(r[e]);i.push(t),c+=1,c%=7}if(5===i.length)break}return{forecasts:i,cityName:o}};const i=document.querySelector(".weather-location"),c=document.querySelectorAll(".main-weather-data"),s=document.querySelectorAll(".forecast-card"),u=document.querySelector('input[type="checkbox"]');(()=>{const e=document.querySelector("#metric"),t=document.querySelector("#imperial"),n=document.querySelector("#location"),r=(async(e="Lagos,ng")=>{let{forecasts:t,cityName:n,message:r}=await o(e);const a=(e=n)=>{i.textContent=e};if(r)return a(r);const u=(e,n,r="metric")=>{const a=t[e][`${r}`];n.forEach(({dataset:{name:e}},t)=>{if("weatherIcon"===e){const r=`https://openweathermap.org/img/wn/${a[`${e}`]}@2x.png`;return n[t].src=r,void(n[t].alt=a.weatherDescription)}n[t].textContent=a[`${e}`]})},d=(e,t=0)=>u(t,c,e),l=e=>{s.forEach(t=>{const{dataset:{day:n}}=t,r=t.querySelectorAll("[data-name]");u(n,r,e)})},m=(e="metric")=>{a(n),d(e),l(e)};return{all:m,main:d,toggleUnit:e=>{d(e),l(e)},changeCity:async(e,i)=>(({forecasts:t,cityName:n,message:r}=await o(e)),r?a(r):m(i))}})(),a=()=>u.checked?"imperical":"metric";r.then(e=>e.all(a())),u.addEventListener("click",({target:{checked:n}})=>{r.then(e=>e.toggleUnit(a())),t.classList.toggle("checked",n),e.classList.toggle("checked",!n)}),document.querySelector("#get-location").addEventListener("click",()=>{const e=n.value;r.then(t=>t.changeCity(e,a()))})})()}]);